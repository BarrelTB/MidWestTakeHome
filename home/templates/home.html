{% load static %}
<!doctype html>
<html lang="en">
    {% include "head.html" %}
  <body class="main_body">
    {% include "navbar.html" %}
    <div class="cardsection">
      {%for item in listData %}
      <div class="card">
        <div class="card-img-div">

          <img src="{{ item.img }}" class="card-img-top" alt="...">
        </div>
        <div class="card-body">
          <div class="card-body-text">

            <h2 class="card-title">{{ item.title }}</h2>
            <p class="card-text">{{ item.text }} </p>
          </div>
          <div class="card-body-btn">

            <a href="#" class="btn btn-primary">Learn More</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <div class="par-body" id="par-body-script-challenge">

      <h1 class="head-one">Heading One</h1>
      <p class="par-body-text" >Remove the duplicates in 2 Javascript arrays (found in readme), add the results to an array and output the list of distinct names in an unordered list below this paragraph when <a href="javascript:sortNames()">this link</a> is clicked.
        If the operation has been completed already, notify the user that this as already been done.</p>
    </div>
        {% include "scripts.html" %}
        <script>
          var filteredNames = [];
          const names1 = ['Matt Johnson', 'Matt Johnson', 'Bart Paden', 'Ryan Doss', 'Jared Malcolm'];
          const names2 = ['Matt Johnson', 'Bart Paden', 'Bart Paden', 'Jordan Heigle', 'Jordan Heigle', 'Tyler Viles'];

          const allNames = names1.concat(names2); 
          
          function sortNames() {
            var parBody = document.getElementById('par-body-script-challenge');

            if (filteredNames === undefined || filteredNames.length == 0) {
              filteredNames = [...new Set(allNames)];

              var newNamePar = document.createElement('P');
              filteredNames.forEach(function(name, i) {
                if(i === filteredNames.length-1) {

                  var newName = document.createTextNode(name);
                }else {
                  var newName = document.createTextNode(name + ', ');
                }
                newNamePar.appendChild(newName);   
              });
              
              newNamePar.id = 'name-challenge-par'
              newNamePar.style.cssText = 'color: white; margin-left: 4%;'
              parBody.appendChild(newNamePar);
            } else {

              alert("This operation has already been done.");
            }

          }

        </script>
  </body>
</html>